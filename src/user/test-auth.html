<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auth Popup Test</title>
</head>
<body style="background: #0F0F23; color: white; padding: 20px;">
    <h1>Auth Popup Test</h1>
    
    <button onclick="openLogin()">Open Login</button>
    <button onclick="testForgotPassword()">Test Forgot Password</button>
    <button onclick="debugAuthPopup()">Debug Auth Popup</button>
    
    <script>
        function openLogin() {
            if (window.authPopup) {
                window.authPopup.show('login');
            }
        }
        
        function testForgotPassword() {
            console.log('Testing forgot password...');
            if (window.authPopup) {
                window.authPopup.show('forgot-password');
            }
        }
        
        function debugAuthPopup() {
            console.log('Auth popup status:', {
                exists: !!window.authPopup,
                initialized: window.authPopup?.isInitialized
            });
        }
    </script>
    
    <!-- Include the same auth popup HTML and JS -->
    <script src="./components/auth-popup.js"></script>
    
    <!-- AUTH POPUP COMPONENT EMBEDDED -->
    <style>
    /* Force no background on auth tabs */
    #login-tab, #register-tab {
        background: transparent !important;
        background-color: transparent !important;
        background-image: none !important;
        border: none !important;
        box-shadow: none !important;
        outline: none !important;
    }
    #login-tab:hover, #register-tab:hover,
    #login-tab:focus, #register-tab:focus,
    #login-tab:active, #register-tab:active {
        background: transparent !important;
        background-color: transparent !important;
        background-image: none !important;
        border: none !important;
        box-shadow: none !important;
        outline: none !important;
    }
    </style>
    <div id="auth-popup" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 70; display: none; justify-content: center; align-items: center; opacity: 0; transition: opacity 0.3s ease;">
      <div id="auth-popup-content" style="background: #1a1f2e; border-radius: 16px; width: 520px; height: auto; min-height: 600px; position: relative; transform: scale(0.9); transition: transform 0.3s ease; box-sizing: border-box; padding: 40px;">
        
        <!-- Tab Headers -->
        <div style="display: flex; justify-content: space-between; margin-bottom: 40px; position: relative; width: 100%;">
          <!-- Login Tab -->
          <button id="login-tab" style="background: transparent !important; color: #5b5ff7; border: none !important; padding: 12px 0; font-family: 'Inter'; font-weight: 600; font-size: 18px; cursor: pointer; transition: color 0.3s ease; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; flex: 1; text-align: center; box-shadow: none !important;">
            Login
          </button>
          
          <!-- Register Tab -->
          <button id="register-tab" style="background: transparent !important; color: #9CA3AF; border: none !important; padding: 12px 0; font-family: 'Inter'; font-weight: 600; font-size: 18px; cursor: pointer; transition: color 0.3s ease; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; flex: 1; text-align: center; box-shadow: none !important;">
            Register
          </button>
          
          <!-- Forgot Password Tab (Hidden by default) -->
          <button id="forgot-tab" style="background: transparent !important; color: #9CA3AF; border: none !important; padding: 12px 0; font-family: 'Inter'; font-weight: 600; font-size: 16px; cursor: pointer; transition: color 0.3s ease; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; flex: 1; text-align: center; box-shadow: none !important; display: none;">
            Reset Password
          </button>
          
          <!-- Active tab underline -->
          <div id="tab-underline" style="position: absolute; bottom: -10px; left: 0; width: 50%; height: 3px; background: #5b5ff7; transition: all 0.3s ease;"></div>
        </div>

        <!-- Close Button -->
        <button id="close-auth-popup" style="position: absolute; top: 16px; right: 16px; width: 32px; height: 32px; background: rgba(156, 163, 175, 0.2); border: none; border-radius: 50%; color: #9CA3AF; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 18px; transition: all 0.2s ease;" onmouseover="this.style.background='rgba(156, 163, 175, 0.3)'; this.style.transform='scale(1.1)';" onmouseout="this.style.background='rgba(156, 163, 175, 0.2)'; this.style.transform='scale(1)';">
          ×
        </button>

        <!-- Login Form -->
        <div id="login-form" style="width: 100%;">
          <!-- Welcome Back Title -->
          <h2 style="text-align: center; margin: 0 0 40px 0; font-family: 'Inter'; font-weight: 700; font-size: 32px; color: #FFFFFF; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Welcome Back</h2>
          
          <!-- Error Message -->
          <div id="login-error" style="display: none; padding: 12px; margin-bottom: 20px; background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 8px; color: #F87171; font-family: 'Inter'; font-size: 14px; text-align: center;"></div>
          
          <!-- Email Input -->
          <div style="margin-bottom: 24px;">
            <!-- Email Label -->
            <label style="display: block; margin-bottom: 8px; font-family: 'Inter'; font-weight: 400; font-size: 16px; color: #9CA3AF; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Email</label>
            
            <!-- Email Input Field -->
            <div style="position: relative; background: #2a3441; border-radius: 8px; overflow: hidden;">
              <!-- Email Icon -->
              <div style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); width: 20px; height: 20px;">
                <svg style="width: 20px; height: 20px; color: #9CA3AF;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"></path>
                </svg>
              </div>
              
              <input id="login-email" type="email" placeholder="your@email.com" style="width: 100%; padding: 16px 16px 16px 52px; background: transparent; border: none; font-family: 'Inter'; font-weight: 400; font-size: 16px; color: #9CA3AF; outline: none; box-sizing: border-box;" onfocus="this.style.color='#FFFFFF'" onblur="this.style.color='#9CA3AF'">
            </div>
          </div>

          <!-- Password Input -->
          <div style="margin-bottom: 16px;">
            <!-- Password Label -->
            <label style="display: block; margin-bottom: 8px; font-family: 'Inter'; font-weight: 400; font-size: 16px; color: #9CA3AF; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Password</label>
            
            <!-- Password Input Field -->
            <div style="position: relative; background: #2a3441; border-radius: 8px; overflow: hidden;">
              <!-- Lock Icon -->
              <div style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); width: 20px; height: 20px;">
                <svg style="width: 20px; height: 20px; color: #9CA3AF;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                </svg>
              </div>
              
              <input id="login-password" type="password" placeholder="••••••••" style="width: 100%; padding: 16px 52px 16px 52px; background: transparent; border: none; font-family: 'Inter'; font-weight: 400; font-size: 16px; color: #9CA3AF; outline: none; box-sizing: border-box;" onfocus="this.style.color='#FFFFFF'" onblur="this.style.color='#9CA3AF'">
              
              <!-- Eye Icon -->
              <button id="toggle-password" type="button" style="position: absolute; right: 16px; top: 50%; transform: translateY(-50%); width: 20px; height: 20px; background: none; border: none; cursor: pointer; padding: 0;">
                <svg style="width: 20px; height: 20px; color: #9CA3AF;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                </svg>
              </button>
            </div>
          </div>

          <!-- Forgot Password -->
          <div style="text-align: right; margin-bottom: 32px;">
            <a href="#" id="forgot-password-link" style="font-family: 'Inter'; font-weight: 400; font-size: 14px; color: #5b5ff7; text-decoration: none; transition: color 0.2s ease; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: inline-block;" onmouseover="this.style.color='#7c3aed'" onmouseout="this.style.color='#5b5ff7'">Forgot password?</a>
          </div>

          <!-- Sign In Button -->
          <button id="sign-in-btn" style="width: 100%; padding: 16px; background: linear-gradient(90deg, #8b5cf6 0%, #5b5ff7 100%); border-radius: 8px; border: none; cursor: pointer; transition: all 0.3s ease; margin-bottom: 24px;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0px 6px 25px rgba(139, 92, 246, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
            <span style="font-family: 'Inter'; font-weight: 600; font-size: 16px; color: #FFFFFF; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Sign In</span>
          </button>
        </div>

        <!-- Register Form (Hidden by default) -->
        <div id="register-form" style="display: none; width: 100%;">
          <!-- Create Account Title -->
          <h2 style="text-align: center; margin: 0 0 40px 0; font-family: 'Inter'; font-weight: 700; font-size: 32px; color: #FFFFFF; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Create Account</h2>
          
          <!-- Error Message -->
          <div id="register-error" style="display: none; padding: 12px; margin-bottom: 20px; background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 8px; color: #F87171; font-family: 'Inter'; font-size: 14px; text-align: center;"></div>
        </div>

        <!-- Forgot Password Form (Hidden by default) -->
        <div id="forgot-password-form" style="display: none; width: 100%;">
          <!-- Reset Password Title -->
          <h2 style="text-align: center; margin: 0 0 40px 0; font-family: 'Inter'; font-weight: 700; font-size: 32px; color: #FFFFFF; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Reset Password</h2>
          
          <!-- Error Message -->
          <div id="forgot-error" style="display: none; padding: 12px; margin-bottom: 20px; background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 8px; color: #F87171; font-family: 'Inter'; font-size: 14px; text-align: center;"></div>
          
          <!-- Success Message -->
          <div id="forgot-success" style="display: none; padding: 12px; margin-bottom: 20px; background: rgba(34, 197, 94, 0.1); border: 1px solid rgba(34, 197, 94, 0.3); border-radius: 8px; color: #4ADE80; font-family: 'Inter'; font-size: 14px; text-align: center;"></div>
          
          <!-- Step 1: Email Input -->
          <div id="email-step" style="width: 100%;">
            <p style="text-align: center; margin-bottom: 24px; font-family: 'Inter'; font-size: 14px; color: #9CA3AF; line-height: 1.5;">Enter your email address and we'll send you a verification code to reset your password.</p>
            
            <!-- Email Input -->
            <div style="margin-bottom: 32px;">
              <label style="display: block; margin-bottom: 8px; font-family: 'Inter'; font-weight: 400; font-size: 16px; color: #9CA3AF;">Email</label>
              
              <div style="position: relative; background: #2a3441; border-radius: 8px; overflow: hidden;">
                <div style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); width: 20px; height: 20px;">
                  <svg style="width: 20px; height: 20px; color: #9CA3AF;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"></path>
                  </svg>
                </div>
                
                <input id="forgot-email" type="email" placeholder="your@email.com" style="width: 100%; padding: 16px 16px 16px 52px; background: transparent; border: none; font-family: 'Inter'; font-weight: 400; font-size: 16px; color: #9CA3AF; outline: none; box-sizing: border-box;" onfocus="this.style.color='#FFFFFF'" onblur="this.style.color='#9CA3AF'">
              </div>
            </div>

            <button id="send-code-btn" style="width: 100%; padding: 16px; background: linear-gradient(90deg, #8b5cf6 0%, #5b5ff7 100%); border-radius: 8px; border: none; cursor: pointer; transition: all 0.3s ease; margin-bottom: 24px;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0px 6px 25px rgba(139, 92, 246, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
              <span style="font-family: 'Inter'; font-weight: 600; font-size: 16px; color: #FFFFFF;">Send Verification Code</span>
            </button>
          </div>
        </div>

      </div>
    </div>

    <script>
        // Initialize auth popup after DOM loads
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM loaded, initializing auth popup...');
            if (window.authPopup) {
                window.authPopup.init().then(() => {
                    console.log('Auth popup initialized successfully');
                }).catch(err => {
                    console.error('Failed to initialize auth popup:', err);
                });
            }
        });
    </script>
</body>
</html>
